<blockquote>(*/ω＼*)</blockquote><p>这学期学的数据库主要偏向应用，理论部分相对比较少，重点如下：</p><h2 id="数据库系统概论-大纲"><a href="#数据库系统概论-大纲" class="headerlink" title="数据库系统概论 大纲"></a>数据库系统概论 大纲</h2><ul><li>绪论<ul><li>特点，概念，发展</li><li>数据模型：层次，网状，关系</li><li>结构：三级模式，二级映像</li><li>组成</li></ul></li><li>关系数据库<ul><li>关系数据结构</li><li>关系操作！</li><li>关系完整性：实体完整性，参照完整性，用户定义的完整性</li><li>关系代数！</li></ul></li><li>SQL<ul><li>定义{模式，表，索引，数据字典} </li><li>查询：单表，连接，嵌套，集合，派生表</li><li>更新：插入，修改，删除</li><li>空值，试图</li></ul></li><li>安全性<ul><li>安全性控制：用户身份控制，存取控制，自主存取控制,授权&#x2F;收回，抢注存取控制方法</li><li>视图 - 审计 - 数据加密</li></ul></li><li>数据库完整性<ul><li>实体完整性，参照完整性，用户定义的完整性</li><li>完整性约束命名子句</li><li>断言</li><li>触发器</li></ul></li><li>关系数据理论<ul><li>规范化<ul><li>函数依赖 - 码 - 范式 - 2NF - 3NF - BCNF - 多值依赖和4NF</li></ul></li><li>数据依赖的公理系统 - 模式分解</li></ul></li><li>数据库设计<ul><li>数据字典</li><li>概念模型</li><li>E-R模型及其扩充</li></ul></li><li>数据库编程<ul><li>嵌入式SQL：处理过程，通信（游标，动态SQL）</li><li>过程化SQL</li><li>存储过程和函数</li><li>ODBC编程</li></ul></li><li>关系查询处理和查询优化<ul><li>查询处理步骤，优化</li><li>代数优化，物理优化</li></ul></li><li>数据库恢复技术<ul><li>事务概念和特点 - 恢复概述 - 故障种类，恢复技术和策略</li><li>并发控制</li></ul></li></ul><p>整理的不是特别全乎，不过也涵盖不少了。往年大题就那几道，题型相对固定，针对性做题，做会题就算复习完了。</p><p>上面的知识点里边特别重要的就那几个：<strong>关系代数，关系完整性，SQL，关系数据理论和事务与并发，查询优化</strong>这几个。其他零碎的小知识点有印象就行了。</p><p>复习方法一是做题，最好是看答案；二是看例子，例题，然后递归复习知识点，效率最高。三是下策，先看知识点，再做题，适合开始复习比较早，时间充裕的情况，也是最充分的复习，但是问题是容易动力不足。</p><h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><h3 id="CREATE-DROP-ALTER"><a href="#CREATE-DROP-ALTER" class="headerlink" title="CREATE,DROP,ALTER"></a>CREATE,DROP,ALTER</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> SCHEMA <span class="operator">&lt;</span>&quot;name&quot;<span class="operator">&gt;</span> <span class="keyword">AUTHORIZATION</span> &quot;username&quot;;</span><br><span class="line"><span class="keyword">DROP</span> SCHEMA &quot;name&quot; [CASCADE<span class="operator">/</span>RESTRICT];</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> &quot;name&quot;</span><br><span class="line">&#123;   Col1 <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    Col2 NUMBER(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line">    Col3 <span class="type">INT</span> <span class="keyword">FOREIGN</span> KEY(Sno) <span class="keyword">REFERENCES</span> TABLE2(Sno),</span><br><span class="line">    <span class="keyword">CHECK</span>(Col1 <span class="operator">&gt;</span> <span class="number">1</span> <span class="keyword">AND</span> Col1 <span class="operator">&lt;</span> <span class="number">10</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> schema.tablename&#123;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span> 同上</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">CREATE</span> SCHEMA &quot;name&quot; <span class="keyword">AUTHORIZATION</span> &quot;user&quot; <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> &quot;table1&quot;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span> 同上</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> &quot;name&quot; [<span class="keyword">ADD</span> <span class="keyword">COLUMN</span> name <span class="type">VARCHAR</span>(<span class="number">10</span>) <span class="operator">|</span></span><br><span class="line">                    <span class="keyword">ADD</span> <span class="keyword">UNIQUE</span>(Cname) <span class="operator">|</span></span><br><span class="line">                    <span class="keyword">ADD</span> <span class="keyword">FOREIGN</span> KEY(Cno) <span class="keyword">REFERENCES</span> Student(Cno) <span class="operator">|</span></span><br><span class="line">                    <span class="keyword">DROP</span> Col1 CASCADE<span class="operator">|</span>RESTRICT</span><br><span class="line">                    <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> “completeness” CASCADE<span class="operator">|</span>RESTRICT</span><br><span class="line">                    <span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> Col1 <span class="type">VARCHAR</span>(<span class="number">114514</span>)</span><br><span class="line">];</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> &quot;name&quot; CASCADE<span class="operator">|</span>RESTRICT;</span><br></pre></td></tr></table></figure><h3 id="INDEX"><a href="#INDEX" class="headerlink" title="INDEX"></a>INDEX</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span><span class="operator">|</span>CLUSTER INDEX &quot;index_name&quot; <span class="keyword">ON</span> tableName(Col1 <span class="keyword">DESC</span>, Col2 <span class="keyword">ASC</span>);</span><br><span class="line"><span class="keyword">ALTER</span> INDX &quot;old_index&quot; RENAME <span class="keyword">TO</span> &quot;new_index&quot;;</span><br><span class="line"><span class="keyword">DROP</span> INDEX &quot;index_name&quot;;</span><br></pre></td></tr></table></figure><h3 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">DISTINCT</span><span class="operator">|</span><span class="keyword">ALL</span>] <span class="number">2022</span><span class="operator">-</span>table1.age,table2.Sname</span><br><span class="line"><span class="keyword">FROM</span> [&quot;table1&quot; <span class="operator">|</span> &quot;view1&quot;]</span><br><span class="line"><span class="keyword">WHERE</span> age<span class="operator">&gt;</span><span class="number">5</span> <span class="keyword">AND</span><span class="operator">|</span><span class="keyword">OR</span> age<span class="operator">&lt;</span><span class="number">7</span> <span class="keyword">AND</span> Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span> <span class="keyword">AND</span> age [<span class="keyword">NOT</span>]  <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">30</span> <span class="keyword">AND</span> Sdept <span class="keyword">IN</span>(<span class="string">&#x27;CS&#x27;</span>,<span class="string">&#x27;MA&#x27;</span>) <span class="keyword">AND</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;张____&#x27;</span> <span class="keyword">AND</span> GRADE <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> Col2 <span class="keyword">HAVING</span> <span class="built_in">AVG</span>(Grade)<span class="operator">&gt;=</span><span class="number">90</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> Col1 <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><p>连接查询时，列举全部属性列，去掉相同的列就是自然连接。</p><p>单表连接查询：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> Course.FIRST, Course.SECOND</span><br><span class="line"><span class="keyword">SELECT</span> FIRST.Cno, SECOND.Cpno</span><br><span class="line"><span class="keyword">WHERE</span> FIRST.Cpno<span class="operator">=</span>SECOND.Cno;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>外连接查询</span><br><span class="line"><span class="keyword">FROM</span> table1 <span class="keyword">LEFT</span><span class="operator">|</span><span class="keyword">RIGHT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> table2 <span class="keyword">ON</span><span class="operator">|</span><span class="keyword">USING</span>(table1.sno<span class="operator">=</span>table2.sno) <span class="operator">/</span><span class="operator">/</span> <span class="keyword">USING</span>去重</span><br></pre></td></tr></table></figure><p><code>%_</code>任意字符、一个字符，汉字<strong>长两个字符</strong></p><p>子查询使用<code>IN</code>关键字，阅读&#x2F;构造时从内部构造。下面的例子相当于是将子查询的结果作为父查询的语句的参数了。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno, Sname, Sdept</span><br><span class="line"><span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> Sdept <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> Sdept</span><br><span class="line">    <span class="keyword">FROM</span> Student</span><br><span class="line">    <span class="keyword">WHERE</span> Sname<span class="operator">=</span><span class="string">&#x27;lex&#x27;</span></span><br><span class="line">) <span class="keyword">AND</span> xxx;</span><br></pre></td></tr></table></figure><p>还有<code>EXISTS</code>子查询，跟上边<code>IN</code>差不多，不过意思是将”至少存在一个查询结果“作为查询选择器的条件。</p><p>多个查询可以用<code>UNION,, INTERSECT, EXCEPT</code>分别进行并，交，差三个集合运算，目标的数据结构必须相同。</p><h3 id="INSERT-UPDATE-DELETE"><a href="#INSERT-UPDATE-DELETE" class="headerlink" title="INSERT,UPDATE,DELETE"></a>INSERT,UPDATE,DELETE</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">table</span>(Col1, Col2) [</span><br><span class="line">    <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;4&#x27;</span>) <span class="operator">|</span> </span><br><span class="line">    <span class="keyword">SELECT</span> xxx <span class="keyword">FROM</span> xxx <span class="keyword">WHERE</span> xxx <span class="keyword">GROUP</span> <span class="keyword">BY</span> xxx</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">table</span></span><br><span class="line"><span class="keyword">SET</span> Col1<span class="operator">=</span>xxx</span><br><span class="line"><span class="keyword">WHERE</span> cond;</span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">table</span></span><br><span class="line"><span class="keyword">WHERE</span> cond;</span><br></pre></td></tr></table></figure><h3 id="VIEW"><a href="#VIEW" class="headerlink" title="VIEW"></a>VIEW</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> vname(Col1,Coln)</span><br><span class="line"><span class="keyword">AS</span> 子查询</span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION]</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> xxx;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> vname CASCADE</span><br></pre></td></tr></table></figure><h3 id="空值"><a href="#空值" class="headerlink" title="空值"></a>空值</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxx <span class="keyword">IS</span> [<span class="keyword">NOT</span>] <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>